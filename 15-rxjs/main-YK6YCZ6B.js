import{a as $,c as Z,f as z,h as G,k as J}from"./chunk-UAQHXOC4.js";import{Aa as K,C as a,F as d,K as _,N as k,P as C,R as M,S as T,T as r,U as o,V as m,Y as j,_ as i,ba as I,g as D,ga as P,h as R,i as A,j as E,k as g,ka as F,l as v,ma as O,p,q as L,ra as q,sa as H,ta as N,ua as B,v as y,wa as f,xa as U,ya as W,z as l,za as V}from"./chunk-4ARLCESS.js";function x(e,t){let n=!t?.manualCleanup;n&&!t?.injector&&L(x);let c=n?t?.injector?.get(y)??p(y):null,w=Y(t?.equal),u;t?.requireSync?u=l({kind:0},{equal:w}):u=l({kind:1,value:t?.initialValue},{equal:w});let S=e.subscribe({next:s=>u.set({kind:1,value:s}),error:s=>{u.set({kind:2,error:s})}});if(t?.requireSync&&u().kind===0)throw new v(601,!1);return c?.onDestroy(S.unsubscribe.bind(S)),O(()=>{let s=u();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new v(601,!1)}},{equal:t?.equal})}function Y(e=Object.is){return(t,n)=>t.kind===1&&n.kind===1&&e(t.value,n.value)}var ne=e=>["/books","details",e],oe=(e,t)=>t.isbn;function re(e,t){e&1&&(r(0,"span",1),i(1,"Searching ..."),o())}function ie(e,t){if(e&1&&(r(0,"li")(1,"a",2),i(2),o()()),e&2){let n=t.$implicit;a(),k("routerLink",P(3,ne,n.isbn)),a(),I(" ",n.title," (",n.isbn,") ")}}function se(e,t){if(e&1&&(r(0,"section")(1,"h2"),i(2,"Search results"),o(),r(3,"ul"),M(4,ie,3,5,"li",null,oe),o()()),e&2){let n=j();a(4),T(n.results())}}var h=class e{#e=p(K);searchControl=new z("",{nonNullable:!0});isLoading=l(!1);results=x(this.searchControl.valueChanges.pipe(D(t=>t.length>=3),R(500),A(),g(()=>this.isLoading.set(!0)),E(t=>this.#e.searchBooks(t)),g(()=>this.isLoading.set(!1))),{initialValue:[]});static \u0275fac=function(n){return new(n||e)};static \u0275cmp=d({type:e,selectors:[["app-home-page"]],decls:6,vars:3,consts:[["type","search","placeholder","Search",3,"formControl"],["aria-busy","true"],[3,"routerLink"]],template:function(n,c){n&1&&(r(0,"h1"),i(1,"Welcome to the BookMonkey!"),o(),m(2,"hr")(3,"input",0),_(4,re,2,0,"span",1)(5,se,6,0,"section")),n&2&&(a(3),k("formControl",c.searchControl),a(),C(c.isLoading()?4:-1),a(),C(c.results().length?5:-1))},dependencies:[J,$,Z,G,f],encapsulation:2})};var Q=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:h,title:"BookMonkey"},{path:"books",loadChildren:()=>import("./chunk-P6O2HPD5.js").then(e=>e.booksPortalRoutes)},{path:"admin",loadChildren:()=>import("./chunk-NUEBBIN4.js").then(e=>e.booksAdminRoutes)}];var X={providers:[F(),W(Q,V()),q(H())]};var b=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=d({type:e,selectors:[["app-root"]],decls:13,vars:0,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function(n,c){n&1&&(r(0,"main")(1,"nav")(2,"ul")(3,"li")(4,"a",0),i(5,"Home"),o()(),r(6,"li")(7,"a",1),i(8,"Books"),o()(),r(9,"li")(10,"a",2),i(11,"Admin"),o()()()(),m(12,"router-outlet"),o())},dependencies:[B,f,U],encapsulation:2})};N(b,X).catch(e=>console.error(e));
