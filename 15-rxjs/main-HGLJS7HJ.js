import{a as B,c as I,f as W,h as P,k as V}from"./chunk-J43LQNL7.js";import{A as a,D as m,H as A,K as f,M as h,O as L,P as S,Q as n,R as i,S as l,V as _,X as r,_ as y,da as E,g as C,ga as R,h as v,i as g,j as k,k as d,na as D,oa as H,p as x,pa as F,qa as M,sa as s,ta as T,ua as w,va as N,wa as $,xa as j,y as b}from"./chunk-3IAMDFVE.js";var z=(e,o)=>o.isbn,G=e=>["/books","details",e];function J(e,o){e&1&&(n(0,"span",1),r(1,"Searching ..."),i())}function K(e,o){if(e&1&&(n(0,"li")(1,"a",2),r(2),i()()),e&2){let t=o.$implicit;a(),f("routerLink",E(3,G,t.isbn)),a(),y("",t.title," (",t.isbn,")")}}function Q(e,o){if(e&1&&(n(0,"section")(1,"h2"),r(2,"Search results"),i(),n(3,"ul"),L(4,K,3,5,"li",null,z),i()()),e&2){let t=_();a(4),S(t.results())}}var c=class e{#e=x(j);searchControl=new W("",{nonNullable:!0});isLoading=b(!1);results=$(this.searchControl.valueChanges.pipe(C(o=>o.length>=3),v(500),g(),d(()=>this.isLoading.set(!0)),k(o=>this.#e.searchBooks(o)),d(()=>this.isLoading.set(!1))),{initialValue:[]});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-home"]],decls:6,vars:3,consts:[["type","search","placeholder","Search",3,"formControl"],["aria-busy","true"],[3,"routerLink"]],template:function(t,p){t&1&&(n(0,"h1"),r(1,"Welcome to the BookMonkey!"),i(),l(2,"hr")(3,"input",0),A(4,J,2,0,"span",1)(5,Q,6,0,"section")),t&2&&(a(3),f("formControl",p.searchControl),a(),h(p.isLoading()?4:-1),a(),h(p.results().length?5:-1))},dependencies:[V,B,I,P,s],encapsulation:2})};var O=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:c},{path:"books",loadChildren:()=>import("./chunk-YAKGAAA6.js").then(e=>e.booksPortalRoutes)},{path:"admin",loadChildren:()=>import("./chunk-VM3YMJUU.js").then(e=>e.booksAdminRoutes)}];var U={providers:[R(),w(O,N()),D(H())]};var u=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-root"]],decls:13,vars:0,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"]],template:function(t,p){t&1&&(n(0,"main")(1,"nav")(2,"ul")(3,"li")(4,"a",0),r(5,"Home"),i()(),n(6,"li")(7,"a",1),r(8,"Books"),i()(),n(9,"li")(10,"a",2),r(11,"Admin"),i()()()(),l(12,"router-outlet"),i())},dependencies:[M,s,T],encapsulation:2})};F(u,U).catch(e=>console.error(e));
